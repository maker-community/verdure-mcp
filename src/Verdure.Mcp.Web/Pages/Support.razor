@page "/support"
@inject IStringLocalizer<SharedResources> L

<PageTitle>@L["Support_PageTitle"]</PageTitle>

<MudText Typo="Typo.h4" Class="mb-6" Style="font-weight: 500;">@L["Support_Title"]</MudText>

<MudText Typo="Typo.body1" Class="mb-8" Color="Color.Secondary" Style="line-height: 1.75; max-width: 800px;">
    @L["Support_Subtitle"]
</MudText>

<MudGrid Spacing="4">
    <MudItem xs="12" md="4">
        <MudCard Elevation="0" Class="h-100" Style="border-radius: 16px; background-color: #FFFFFF; border: 1px solid rgba(124, 77, 255, 0.12); box-shadow: 0 2px 8px rgba(124, 77, 255, 0.06);">
            <MudCardHeader Style="padding: 20px 20px 16px;">
                <CardHeaderAvatar>
                    <MudAvatar Color="Color.Primary" Size="Size.Large" Style="border-radius: 12px;">
                        <MudIcon Icon="@Icons.Custom.Brands.YouTube" />
                    </MudAvatar>
                </CardHeaderAvatar>
                <CardHeaderContent>
                    <MudText Typo="Typo.h6" Style="font-weight: 500;">@L["Support_FollowBilibili"]</MudText>
                    <MudText Typo="Typo.body2" Color="Color.Secondary">@L["Support_SubscribeVideos"]</MudText>
                </CardHeaderContent>
            </MudCardHeader>
            <MudCardContent Style="padding: 0 20px 16px;">
                <MudText Typo="Typo.body2" Style="line-height: 1.6; color: rgba(0, 0, 0, 0.70);">
                    @L["Support_BilibiliDesc"]
                </MudText>
            </MudCardContent>
            <MudCardActions Style="padding: 12px 20px 20px;">
                <MudButton Variant="Variant.Filled" Color="Color.Primary" FullWidth="true"
                           Href="https://space.bilibili.com/" Target="_blank"
                           StartIcon="@Icons.Material.Filled.PlayArrow"
                           Style="border-radius: 20px; text-transform: none; height: 44px;">
                    @L["Support_GoToBilibili"]
                </MudButton>
            </MudCardActions>
        </MudCard>
    </MudItem>

    <MudItem xs="12" md="4">
        <MudCard Elevation="0" Class="h-100" Style="border-radius: 16px; background-color: #FFFFFF; border: 1px solid rgba(124, 77, 255, 0.12); box-shadow: 0 2px 8px rgba(124, 77, 255, 0.06);">
            <MudCardHeader Style="padding: 20px 20px 16px;">
                <CardHeaderAvatar>
                    <MudAvatar Color="Color.Warning" Size="Size.Large" Style="border-radius: 12px;">
                        <MudIcon Icon="@Icons.Material.Filled.ElectricBolt" />
                    </MudAvatar>
                </CardHeaderAvatar>
                <CardHeaderContent>
                    <MudText Typo="Typo.h6" Style="font-weight: 500;">@L["Support_BilibiliCharge"]</MudText>
                    <MudText Typo="Typo.body2" Color="Color.Secondary">@L["Support_SupportCreation"]</MudText>
                </CardHeaderContent>
            </MudCardHeader>
            <MudCardContent Style="padding: 0 20px 16px;">
                <MudText Typo="Typo.body2" Style="line-height: 1.6; color: rgba(0, 0, 0, 0.70);">
                    @L["Support_ChargeDesc"]
                </MudText>
            </MudCardContent>
            <MudCardActions Style="padding: 12px 20px 20px;">
                <MudButton Variant="Variant.Filled" Color="Color.Warning" FullWidth="true"
                           Href="https://space.bilibili.com/" Target="_blank"
                           StartIcon="@Icons.Material.Filled.FlashOn"
                           Style="border-radius: 20px; text-transform: none; height: 44px;">
                    @L["Support_GoCharge"]
                </MudButton>
            </MudCardActions>
        </MudCard>
    </MudItem>

    <MudItem xs="12" md="4">
        <MudCard Elevation="0" Class="h-100" Style="border-radius: 16px; background-color: #FFFFFF; border: 1px solid rgba(124, 77, 255, 0.12); box-shadow: 0 2px 8px rgba(124, 77, 255, 0.06);">
            <MudCardHeader Style="padding: 20px 20px 16px;">
                <CardHeaderAvatar>
                    <MudAvatar Color="Color.Success" Size="Size.Large" Style="border-radius: 12px;">
                        <MudIcon Icon="@Icons.Material.Filled.Favorite" />
                    </MudAvatar>
                </CardHeaderAvatar>
                <CardHeaderContent>
                    <MudText Typo="Typo.h6" Style="font-weight: 500;">@L["Support_ScanDonate"]</MudText>
                    <MudText Typo="Typo.body2" Color="Color.Secondary">@L["Support_DirectSupport"]</MudText>
                </CardHeaderContent>
            </MudCardHeader>
            <MudCardContent Style="padding: 0 20px 16px;">
                <MudText Typo="Typo.body2" Style="line-height: 1.6; color: rgba(0, 0, 0, 0.70);">
                    @L["Support_DonateDesc"]
                </MudText>
            </MudCardContent>
            <MudCardActions Style="padding: 12px 20px 20px;">
                <MudButton Variant="Variant.Filled" Color="Color.Success" FullWidth="true"
                           OnClick="@ShowQrCode"
                           StartIcon="@Icons.Material.Filled.QrCode"
                           Style="border-radius: 20px; text-transform: none; height: 44px;">
                    @L["Support_ShowQrCode"]
                </MudButton>
            </MudCardActions>
        </MudCard>
    </MudItem>
</MudGrid>

<MudDivider Class="my-8" Style="margin-top: 48px; margin-bottom: 48px;" />

<MudText Typo="Typo.h5" Class="mb-6" Style="font-weight: 500;">@L["Support_OtherWays"]</MudText>

<MudGrid Spacing="4">
    <MudItem xs="12" md="6">
        <MudPaper Elevation="0" Class="pa-5" Style="background-color: #FFFFFF; border-radius: 16px; border: 1px solid rgba(124, 77, 255, 0.1); box-shadow: 0 2px 6px rgba(124, 77, 255, 0.04);">
            <MudStack Row="true" AlignItems="AlignItems.Center" Spacing="3">
                <MudAvatar Color="Color.Warning" Size="Size.Large" Variant="Variant.Outlined" Style="border-radius: 12px;">
                    <MudIcon Icon="@Icons.Material.Filled.Star" Size="Size.Large" />
                </MudAvatar>
                <MudStack Spacing="1">
                    <MudText Typo="Typo.h6" Style="font-weight: 500;">@L["Support_StarProject"]</MudText>
                    <MudText Typo="Typo.body2" Color="Color.Secondary" Style="line-height: 1.6;">
                        @L["Support_StarDesc"]
                    </MudText>
                </MudStack>
            </MudStack>
        </MudPaper>
    </MudItem>

    <MudItem xs="12" md="6">
        <MudPaper Elevation="0" Class="pa-5" Style="background-color: #FFFFFF; border-radius: 16px; border: 1px solid rgba(124, 77, 255, 0.1); box-shadow: 0 2px 6px rgba(124, 77, 255, 0.04);">
            <MudStack Row="true" AlignItems="AlignItems.Center" Spacing="3">
                <MudAvatar Color="Color.Info" Size="Size.Large" Variant="Variant.Outlined" Style="border-radius: 12px;">
                    <MudIcon Icon="@Icons.Material.Filled.Share" Size="Size.Large" />
                </MudAvatar>
                <MudStack Spacing="1">
                    <MudText Typo="Typo.h6" Style="font-weight: 500;">@L["Support_Share"]</MudText>
                    <MudText Typo="Typo.body2" Color="Color.Secondary" Style="line-height: 1.6;">
                        @L["Support_ShareDesc"]
                    </MudText>
                </MudStack>
            </MudStack>
        </MudPaper>
    </MudItem>

    <MudItem xs="12" md="6">
        <MudPaper Elevation="0" Class="pa-5" Style="background-color: #FFFFFF; border-radius: 16px; border: 1px solid rgba(124, 77, 255, 0.1); box-shadow: 0 2px 6px rgba(124, 77, 255, 0.04);">
            <MudStack Row="true" AlignItems="AlignItems.Center" Spacing="3">
                <MudAvatar Color="Color.Error" Size="Size.Large" Variant="Variant.Outlined" Style="border-radius: 12px;">
                    <MudIcon Icon="@Icons.Material.Filled.BugReport" Size="Size.Large" />
                </MudAvatar>
                <MudStack Spacing="1">
                    <MudText Typo="Typo.h6" Style="font-weight: 500;">@L["Support_ReportBug"]</MudText>
                    <MudText Typo="Typo.body2" Color="Color.Secondary" Style="line-height: 1.6;">
                        @L["Support_BugDesc"]
                    </MudText>
                </MudStack>
            </MudStack>
        </MudPaper>
    </MudItem>

    <MudItem xs="12" md="6">
        <MudPaper Elevation="0" Class="pa-5" Style="background-color: #FFFFFF; border-radius: 16px; border: 1px solid rgba(124, 77, 255, 0.1); box-shadow: 0 2px 6px rgba(124, 77, 255, 0.04);">
            <MudStack Row="true" AlignItems="AlignItems.Center" Spacing="3">
                <MudAvatar Color="Color.Success" Size="Size.Large" Variant="Variant.Outlined" Style="border-radius: 12px;">
                    <MudIcon Icon="@Icons.Material.Filled.Code" Size="Size.Large" />
                </MudAvatar>
                <MudStack Spacing="1">
                    <MudText Typo="Typo.h6" Style="font-weight: 500;">@L["Support_ContributeCode"]</MudText>
                    <MudText Typo="Typo.body2" Color="Color.Secondary" Style="line-height: 1.6;">
                        @L["Support_ContributeDesc"]
                    </MudText>
                </MudStack>
            </MudStack>
        </MudPaper>
    </MudItem>
</MudGrid>

<MudPaper Class="pa-8 mt-8 text-center" Elevation="0" Style="background: linear-gradient(135deg, #EDE7FF 0%, #F8F7FC 100%); border-radius: 20px; border: 3px solid #7C4DFF;">
    <MudIcon Icon="@Icons.Material.Filled.Favorite" Color="Color.Primary" Size="Size.Large" Class="mb-3" />
    <MudText Typo="Typo.h5" Color="Color.Default" Class="mt-4" Style="font-weight: 500;">@L["Support_ThanksTitle"]</MudText>
    <MudText Typo="Typo.body1" Color="Color.Default" Class="mt-3" Style="line-height: 1.75; max-width: 600px; margin: 12px auto 0;">
        @L["Support_ThanksDesc"]
    </MudText>
</MudPaper>

@inject IDialogService DialogService

@code {
    private async Task ShowQrCode()
    {
        var parameters = new DialogParameters<QrCodeDialog>();
        var options = new DialogOptions { CloseOnEscapeKey = true, MaxWidth = MaxWidth.Small };
        await DialogService.ShowAsync<QrCodeDialog>(L["QrCode_DialogTitle"], parameters, options);
    }
}
