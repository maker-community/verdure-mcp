@page "/authentication/{action}"
@layout LandingLayout
@using Microsoft.AspNetCore.Components.WebAssembly.Authentication
@inject NavigationManager Navigation
@inject IStringLocalizer<SharedResources> L

<RemoteAuthenticatorView Action="@Action">
    <LoggingIn>
        <div class="d-flex flex-column align-center justify-center" style="min-height: 80vh;">
            <MudProgressCircular Color="Color.Primary" Size="Size.Large" Indeterminate="true" />
            <MudText Typo="Typo.h6" Class="mt-4" Style="color: #5E35B1;">@L["Auth_LoggingIn"]</MudText>
            <MudText Typo="Typo.body2" Color="Color.Secondary">@L["Auth_PleaseWait"]</MudText>
        </div>
    </LoggingIn>
    
    <CompletingLoggingIn>
        <div class="d-flex flex-column align-center justify-center" style="min-height: 80vh;">
            <MudProgressCircular Color="Color.Primary" Size="Size.Large" Indeterminate="true" />
            <MudText Typo="Typo.h6" Class="mt-4" Style="color: #5E35B1;">@L["Auth_CompletingLogin"]</MudText>
            <MudText Typo="Typo.body2" Color="Color.Secondary">@L["Auth_Redirecting"]</MudText>
        </div>
    </CompletingLoggingIn>
    
    <LogOut>
        <div class="d-flex flex-column align-center justify-center" style="min-height: 80vh;">
            <MudProgressCircular Color="Color.Warning" Size="Size.Large" Indeterminate="true" />
            <MudText Typo="Typo.h6" Class="mt-4" Style="color: #5E35B1;">@L["Auth_LoggingOut"]</MudText>
            <MudText Typo="Typo.body2" Color="Color.Secondary">@L["Auth_SafelyLoggingOut"]</MudText>
        </div>
    </LogOut>
    
    <CompletingLogOut>
        <div class="d-flex flex-column align-center justify-center" style="min-height: 80vh;">
            <MudProgressCircular Color="Color.Warning" Size="Size.Large" Indeterminate="true" />
            <MudText Typo="Typo.h6" Class="mt-4" Style="color: #5E35B1;">@L["Auth_CompletingLogout"]</MudText>
            <MudText Typo="Typo.body2" Color="Color.Secondary">@L["Auth_Redirecting"]</MudText>
        </div>
    </CompletingLogOut>
    
    <LogInFailed>
        <div class="d-flex flex-column align-center justify-center" style="min-height: 80vh;">
            <MudCard Elevation="4" Style="max-width: 500px; width: 100%;">
                <MudCardContent Class="pa-8 text-center">
                    <MudIcon Icon="@Icons.Material.Filled.Error" Color="Color.Error" Size="Size.Large" />
                    <MudText Typo="Typo.h5" Class="mt-4 mb-2">@L["Auth_LoginFailed"]</MudText>
                    <MudText Typo="Typo.body2" Color="Color.Secondary" Class="mb-4">
                        @L["Auth_LoginErrorMessage"]
                    </MudText>
                    <MudButton Variant="Variant.Filled" 
                              Color="Color.Primary" 
                              Href="authentication/login"
                              StartIcon="@Icons.Material.Filled.Refresh">
                        @L["Auth_RetryLogin"]
                    </MudButton>
                </MudCardContent>
            </MudCard>
        </div>
    </LogInFailed>
    
    <LogOutFailed>
        <div class="d-flex flex-column align-center justify-center" style="min-height: 80vh;">
            <MudCard Elevation="4" Style="max-width: 500px; width: 100%;">
                <MudCardContent Class="pa-8 text-center">
                    <MudIcon Icon="@Icons.Material.Filled.Error" Color="Color.Error" Size="Size.Large" />
                    <MudText Typo="Typo.h5" Class="mt-4 mb-2">@L["Auth_LogoutFailed"]</MudText>
                    <MudText Typo="Typo.body2" Color="Color.Secondary" Class="mb-4">
                        @L["Auth_LogoutErrorMessage"]
                    </MudText>
                    <MudButton Variant="Variant.Filled" 
                              Color="Color.Primary" 
                              Href="/"
                              StartIcon="@Icons.Material.Filled.Home">
                        @L["Auth_BackToHome"]
                    </MudButton>
                </MudCardContent>
            </MudCard>
        </div>
    </LogOutFailed>
    
    <LogOutSucceeded>
        <div class="d-flex flex-column align-center justify-center" style="min-height: 80vh;">
            <MudCard Elevation="4" Style="max-width: 500px; width: 100%;">
                <MudCardContent Class="pa-8 text-center">
                    <MudIcon Icon="@Icons.Material.Filled.CheckCircle" Color="Color.Success" Size="Size.Large" />
                    <MudText Typo="Typo.h5" Class="mt-4 mb-2">@L["Auth_LogoutSuccess"]</MudText>
                    <MudText Typo="Typo.body2" Color="Color.Secondary" Class="mb-4">
                        @L["Auth_SafelyLoggedOut"]
                    </MudText>
                    <MudButton Variant="Variant.Filled" 
                              Color="Color.Primary" 
                              Href="authentication/login"
                              StartIcon="@Icons.Material.Filled.Login">
                        @L["Auth_RetryLogin"]
                    </MudButton>
                </MudCardContent>
            </MudCard>
        </div>
    </LogOutSucceeded>
</RemoteAuthenticatorView>

@code {
    [Parameter]
    public string? Action { get; set; }
}
