@inject NavigationManager Navigation
@inject IStringLocalizer<SharedResources> L

<MudNavMenu>
    <MudText Typo="Typo.subtitle2" Class="px-4 mt-4 mb-2" Color="Color.Primary">@L["Nav_Navigation"]</MudText>
    
    <MudNavLink Href="/" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Home">
        @L["Home"]
    </MudNavLink>
    
    <MudNavLink Href="/dashboard" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Apps">
        @L["Nav_McpSquare"]
    </MudNavLink>
    
    <MudNavLink Href="/support" Icon="@Icons.Material.Filled.Favorite">
        @L["Nav_SupportUs"]
    </MudNavLink>
    
    <AuthorizeView>
        <Authorized>
            <MudText Typo="Typo.subtitle2" Class="px-4 mt-4 mb-2" Color="Color.Primary">@L["Nav_PersonalCenter"]</MudText>
            
            <MudNavLink Href="/tokens" Icon="@Icons.Material.Filled.Key">
                @L["Nav_ApiKey"]
            </MudNavLink>
            
            <MudNavLink Href="/profile" Icon="@Icons.Material.Filled.Person">
                @L["Nav_PersonalInfo"]
            </MudNavLink>
        </Authorized>
    </AuthorizeView>
    
    <AuthorizeView>
        <Authorized>
            @if (context.User.IsAdmin())
            {
                <MudText Typo="Typo.subtitle2" Class="px-4 mt-4 mb-2" Color="Color.Secondary">@L["Nav_Management"]</MudText>
                
                <MudNavLink Href="/admin/services" Icon="@Icons.Material.Filled.Settings">
                    @L["Nav_McpServiceManagement"]
                </MudNavLink>
                
                <MudNavLink Href="/admin/users" Icon="@Icons.Material.Filled.People">
                    @L["Nav_UserManagement"]
                </MudNavLink>
            }
        </Authorized>
    </AuthorizeView>
    
    <MudDivider Class="my-2" />
    
    <MudText Typo="Typo.subtitle2" Class="px-4 mt-2 mb-2" Color="Color.Primary">@L["Nav_ExternalLinks"]</MudText>
    
    <MudNavLink Href="https://xiaozhi.verdure-hiro.cn/" Target="_blank" Icon="@Icons.Material.Filled.Link">
        @L["Nav_XiaozhiPlatform"]
    </MudNavLink>
</MudNavMenu>
