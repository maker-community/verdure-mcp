@using Verdure.Mcp.Web.Icons
@using Verdure.Mcp.Web.Utils
@inject IStringLocalizer<SharedResources> L

@if (IsCompact)
{
    <!-- 精简版 Footer：全宽、无边距、贴底部 -->
    <div style="background-color: #FAFAFA; border-top: 1px solid #E0E0E0; padding: 1.5rem 0; margin-top: 0;">
        <MudContainer MaxWidth="MaxWidth.ExtraLarge">
            <!-- 版权和许可信息（居中） -->
            <div class="text-center">
                <MudText Typo="Typo.body2" Color="Color.Secondary">
                    @string.Format(L["Footer_Copyright"], DateTime.Now.Year)
                </MudText>
                <MudText Typo="Typo.caption" Color="Color.Secondary" Class="mt-1">
                    @L["Footer_Description"]
                </MudText>
                
                <!-- Version Information -->
                @if (!string.IsNullOrEmpty(VersionHelpers.WebDisplayVersion))
                {
                    <div class="d-flex justify-center align-center gap-2 mt-2">
                        <MudChip T="string" Size="Size.Small" Color="Color.Default" Variant="Variant.Text">
                            @($"v{VersionHelpers.WebDisplayVersion}")
                        </MudChip>
                        @if (!string.IsNullOrEmpty(VersionHelpers.RuntimeVersion))
                        {
                            <MudChip T="string" Size="Size.Small" Color="Color.Default" Variant="Variant.Text">
                                @($".NET {VersionHelpers.RuntimeVersion}")
                            </MudChip>
                        }
                        <MudChip T="string" Size="Size.Small" Color="Color.Primary" Variant="Variant.Text">
                            Blazor WebAssembly
                        </MudChip>
                    </div>
                }
            </div>
            
            <!-- 社交链接 -->
            <div class="d-flex justify-center gap-2 mt-2">
                <MudIconButton Icon="@Icons.Custom.Brands.GitHub" 
                              Size="Size.Small"
                              Style="color: rgba(0,0,0,0.5);"
                              Href="https://github.com/maker-community/verdure-mcp" 
                              Target="_blank" />
                <MudIconButton Icon="@VerdureIcons.SocialMedia.Bilibili" 
                              Size="Size.Small"
                              Style="color: rgba(0,0,0,0.5);"
                              Href="https://space.bilibili.com/25228512" 
                              Target="_blank" />
                <MudIconButton Icon="@Icons.Material.Filled.Groups" 
                              Size="Size.Small"
                              Style="color: rgba(0,0,0,0.5);"
                              Href="https://github.com/maker-community" 
                              Target="_blank" />
            </div>
        </MudContainer>
    </div>
}
else
{
    <!-- 完整版 Footer：包含详细信息 -->
    <MudPaper Elevation="0" Square="true" Style="background: linear-gradient(180deg, #1C1B1F 0%, #121212 100%); padding: 60px 0 40px;">
        <MudContainer MaxWidth="MaxWidth.ExtraLarge">
            <MudGrid>
                <!-- Logo 和简介 -->
                <MudItem xs="12" md="4">
                    <div class="d-flex align-center mb-4">
                        <MudIcon Icon="@Icons.Material.Filled.Hub" Size="Size.Large" Style="color: #7C4DFF;" />
                        <MudText Typo="Typo.h5" Style="color: #FFFFFF; font-weight: 600; margin-left: 0.75rem;">
                            @L["AppName"]
                        </MudText>
                    </div>
                    <MudText Typo="Typo.body2" Style="color: rgba(255,255,255,0.7); line-height: 1.7; margin-bottom: 1.5rem;">
                        @L["Footer_Description"]
                    </MudText>
                    <div class="d-flex gap-2">
                        <MudIconButton Icon="@Icons.Custom.Brands.GitHub" 
                                      Size="Size.Medium"
                                      Style="color: rgba(255,255,255,0.7);"
                                      Href="https://github.com/maker-community/verdure-mcp" 
                                      Target="_blank" />
                        <MudIconButton Icon="@VerdureIcons.SocialMedia.Bilibili" 
                                      Size="Size.Medium"
                                      Style="color: rgba(255,255,255,0.7);"
                                      Href="https://space.bilibili.com/25228512" 
                                      Target="_blank" />
                        <MudIconButton Icon="@Icons.Material.Filled.Groups" 
                                      Size="Size.Medium"
                                      Style="color: rgba(255,255,255,0.7);"
                                      Href="https://github.com/maker-community" 
                                      Target="_blank" />
                    </div>
                </MudItem>

                <!-- 快速链接 -->
                <MudItem xs="6" md="2">
                    <MudText Typo="Typo.subtitle1" Style="color: #FFFFFF; font-weight: 600; margin-bottom: 1rem;">
                        @L["Footer_QuickLinks"]
                    </MudText>
                    <MudStack Spacing="2">
                        <MudLink Href="/dashboard" Style="color: rgba(255,255,255,0.7);" Underline="Underline.Hover">
                            @L["Nav_McpSquare"]
                        </MudLink>
                        <MudLink Href="/tokens" Style="color: rgba(255,255,255,0.7);" Underline="Underline.Hover">
                            @L["Nav_ApiKey"]
                        </MudLink>
                        <MudLink Href="/support" Style="color: rgba(255,255,255,0.7);" Underline="Underline.Hover">
                            @L["Nav_SupportUs"]
                        </MudLink>
                    </MudStack>
                </MudItem>

                <!-- 资源 -->
                <MudItem xs="6" md="2">
                    <MudText Typo="Typo.subtitle1" Style="color: #FFFFFF; font-weight: 600; margin-bottom: 1rem;">
                        @L["Footer_Resources"]
                    </MudText>
                    <MudStack Spacing="2">
                        <MudLink Href="https://github.com/maker-community/verdure-mcp" Target="_blank" 
                                 Style="color: rgba(255,255,255,0.7);" Underline="Underline.Hover">
                            @L["Footer_SourceCode"]
                        </MudLink>
                        <MudLink Href="https://github.com/maker-community/verdure-mcp/issues" Target="_blank" 
                                 Style="color: rgba(255,255,255,0.7);" Underline="Underline.Hover">
                            @L["Footer_ReportIssue"]
                        </MudLink>
                        <MudLink Href="https://github.com/maker-community/verdure-mcp#readme" Target="_blank" 
                                 Style="color: rgba(255,255,255,0.7);" Underline="Underline.Hover">
                            @L["Footer_Docs"]
                        </MudLink>
                    </MudStack>
                </MudItem>

                <!-- 社区 -->
                <MudItem xs="12" md="4">
                    <MudText Typo="Typo.subtitle1" Style="color: #FFFFFF; font-weight: 600; margin-bottom: 1rem;">
                        @L["Footer_MakerCommunity"]
                    </MudText>
                    <MudText Typo="Typo.body2" Style="color: rgba(255,255,255,0.7); line-height: 1.7; margin-bottom: 1rem;">
                        @L["Footer_CommunityDesc"]
                    </MudText>
                    <MudStack Spacing="2">
                        <MudLink Href="https://space.bilibili.com/25228512" Target="_blank" 
                                 Style="color: rgba(255,255,255,0.7);" Underline="Underline.Hover">
                            <div class="d-flex align-center gap-2">
                                <MudIcon Icon="@VerdureIcons.SocialMedia.Bilibili" Size="Size.Small" />
                                <span>@L["Footer_BilibiliChannel"]</span>
                            </div>
                        </MudLink>
                        <MudLink Href="https://github.com/maker-community" Target="_blank" 
                                 Style="color: rgba(255,255,255,0.7);" Underline="Underline.Hover">
                            <div class="d-flex align-center gap-2">
                                <MudIcon Icon="@Icons.Custom.Brands.GitHub" Size="Size.Small" />
                                <span>@L["Footer_GitHubOrg"]</span>
                            </div>
                        </MudLink>
                    </MudStack>
                </MudItem>
            </MudGrid>

            <MudDivider Class="my-6" Style="border-color: rgba(255,255,255,0.12);" />

            <!-- 版权信息 -->
            <div class="d-flex justify-space-between align-center flex-wrap gap-4">
                <div>
                    <MudText Typo="Typo.body2" Style="color: rgba(255,255,255,0.5);">
                        @string.Format(L["Footer_Copyright"], DateTime.Now.Year)
                    </MudText>
                    
                    <!-- Version Information -->
                    @if (!string.IsNullOrEmpty(VersionHelpers.WebDisplayVersion))
                    {
                        <div class="d-flex align-center gap-2 mt-2">
                            <MudChip T="string" Size="Size.Small" Color="Color.Default" Variant="Variant.Text" 
                                     Style="color: rgba(255,255,255,0.5);">
                                @($"v{VersionHelpers.WebDisplayVersion}")
                            </MudChip>
                            @if (!string.IsNullOrEmpty(VersionHelpers.RuntimeVersion))
                            {
                                <MudChip T="string" Size="Size.Small" Color="Color.Default" Variant="Variant.Text"
                                         Style="color: rgba(255,255,255,0.5);">
                                    @($".NET {VersionHelpers.RuntimeVersion}")
                                </MudChip>
                            }
                            <MudChip T="string" Size="Size.Small" Color="Color.Primary" Variant="Variant.Text">
                                Blazor WebAssembly
                            </MudChip>
                        </div>
                    }
                </div>
                <div class="d-flex gap-4">
                    <MudLink Href="https://github.com/maker-community/verdure-mcp/blob/main/LICENSE" Target="_blank" 
                             Style="color: rgba(255,255,255,0.5);" Underline="Underline.Hover">
                        @L["Footer_OpenSourceLicense"]
                    </MudLink>
                </div>
            </div>
        </MudContainer>
    </MudPaper>
}

@code {
    /// <summary>
    /// 是否使用精简模式（仅显示版权信息）
    /// 首页使用完整模式 (false)，仪表盘使用精简模式 (true)
    /// </summary>
    [Parameter]
    public bool IsCompact { get; set; } = false;
}
